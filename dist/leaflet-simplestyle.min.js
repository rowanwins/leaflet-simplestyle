!function(){"use strict";var e={stroke:"#555555","stroke-width":2,"stroke-opacity":1,fill:"#555555","fill-opacity":.5},t=[["stroke","color"],["stroke-width","weight"],["stroke-opacity","opacity"],["fill","fillColor"],["fill-opacity","fillOpacity"]];function a(a){return function(e){for(var a={},n=0;n<t.length;n++)a[t[n][1]]=e[t[n][0]];return a}(function(e,t){var a={};for(var n in t)void 0===e[n]?a[n]=t[n]:a[n]=e[n];return a}(a.properties||{},e))}var n=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(){function e(e){var t=(""+e).match(p);return t?new c(u(t[1]),u(t[2]),u(t[3]),u(t[4]),u(t[5]),u(t[6]),u(t[7])):null}function t(e){return"string"==typeof e?encodeURIComponent(e):null}function a(e,t){return"string"==typeof e?encodeURI(e).replace(t,n):null}function n(e){var t=e.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(15&t)}var r=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),o=new RegExp(r),i=/^(?:\.\.\/)*(?:\.\.$)?/;function l(e){if(null===e)return null;for(var t,a=function(e){return e.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}(e),n=o;(t=a.replace(n,"$1"))!=a;a=t);return a}function s(e,t){var a=e.clone(),n=t.hasScheme();n?a.setRawScheme(t.getRawScheme()):n=t.hasCredentials(),n?a.setRawCredentials(t.getRawCredentials()):n=t.hasDomain(),n?a.setRawDomain(t.getRawDomain()):n=t.hasPort();var r=t.getRawPath(),o=l(r);if(n)a.setPort(t.getPort()),o=o&&o.replace(i,"");else if(n=!!r){if(47!==o.charCodeAt(0)){var s=l(a.getRawPath()||"").replace(i,""),c=s.lastIndexOf("/")+1;o=l((c?s.substring(0,c):"")+l(r)).replace(i,"")}}else(o=o&&o.replace(i,""))!==r&&a.setRawPath(o);return n?a.setRawPath(o):n=t.hasQuery(),n?a.setRawQuery(t.getRawQuery()):n=t.hasFragment(),n&&a.setRawFragment(t.getRawFragment()),a}function c(e,t,a,n,r,o,i){this.scheme_=e,this.credentials_=t,this.domain_=a,this.port_=n,this.path_=r,this.query_=o,this.fragment_=i,this.paramCache_=null}function u(e){return"string"==typeof e&&e.length>0?e:null}c.prototype.toString=function(){var e=[];return null!==this.scheme_&&e.push(this.scheme_,":"),null!==this.domain_&&(e.push("//"),null!==this.credentials_&&e.push(this.credentials_,"@"),e.push(this.domain_),null!==this.port_&&e.push(":",this.port_.toString())),null!==this.path_&&e.push(this.path_),null!==this.query_&&e.push("?",this.query_),null!==this.fragment_&&e.push("#",this.fragment_),e.join("")},c.prototype.clone=function(){return new c(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},c.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},c.prototype.getRawScheme=function(){return this.scheme_},c.prototype.setScheme=function(e){return this.scheme_=a(e,m),this},c.prototype.setRawScheme=function(e){return this.scheme_=e||null,this},c.prototype.hasScheme=function(){return null!==this.scheme_},c.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},c.prototype.getRawCredentials=function(){return this.credentials_},c.prototype.setCredentials=function(e){return this.credentials_=a(e,m),this},c.prototype.setRawCredentials=function(e){return this.credentials_=e||null,this},c.prototype.hasCredentials=function(){return null!==this.credentials_},c.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},c.prototype.getRawDomain=function(){return this.domain_},c.prototype.setDomain=function(e){return this.setRawDomain(e&&encodeURIComponent(e))},c.prototype.setRawDomain=function(e){return this.domain_=e||null,this.setRawPath(this.path_)},c.prototype.hasDomain=function(){return null!==this.domain_},c.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},c.prototype.setPort=function(e){if(e){if((e=Number(e))!==(65535&e))throw new Error("Bad port number "+e);this.port_=""+e}else this.port_=null;return this},c.prototype.hasPort=function(){return null!==this.port_},c.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},c.prototype.getRawPath=function(){return this.path_},c.prototype.setPath=function(e){return this.setRawPath(a(e,h))},c.prototype.setRawPath=function(e){return e?(e=String(e),this.path_=!this.domain_||/^\//.test(e)?e:"/"+e):this.path_=null,this},c.prototype.hasPath=function(){return null!==this.path_},c.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},c.prototype.getRawQuery=function(){return this.query_},c.prototype.setQuery=function(e){return this.paramCache_=null,this.query_=t(e),this},c.prototype.setRawQuery=function(e){return this.paramCache_=null,this.query_=e||null,this},c.prototype.hasQuery=function(){return null!==this.query_},c.prototype.setAllParameters=function(e){if("object"==typeof e&&!(e instanceof Array)&&(e instanceof Object||"[object Array]"!==Object.prototype.toString.call(e))){var t=[],a=-1;for(var n in e){"string"==typeof(l=e[n])&&(t[++a]=n,t[++a]=l)}e=t}this.paramCache_=null;for(var r=[],o="",i=0;i<e.length;){n=e[i++];var l=e[i++];r.push(o,encodeURIComponent(n.toString())),o="&",l&&r.push("=",encodeURIComponent(l.toString()))}return this.query_=r.join(""),this},c.prototype.checkParameterCache_=function(){if(!this.paramCache_){var e=this.query_;if(e){for(var t=e.split(/[&\?]/),a=[],n=-1,r=0;r<t.length;++r){var o=t[r].match(/^([^=]*)(?:=(.*))?$/);a[++n]=decodeURIComponent(o[1]).replace(/\+/g," "),a[++n]=decodeURIComponent(o[2]||"").replace(/\+/g," ")}this.paramCache_=a}else this.paramCache_=[]}},c.prototype.setParameterValues=function(e,t){"string"==typeof t&&(t=[t]),this.checkParameterCache_();for(var a=0,n=this.paramCache_,r=[],o=0;o<n.length;o+=2)e===n[o]?a<t.length&&r.push(e,t[a++]):r.push(n[o],n[o+1]);for(;a<t.length;)r.push(e,t[a++]);return this.setAllParameters(r),this},c.prototype.removeParameter=function(e){return this.setParameterValues(e,[])},c.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},c.prototype.getParameterValues=function(e){this.checkParameterCache_();for(var t=[],a=0;a<this.paramCache_.length;a+=2)e===this.paramCache_[a]&&t.push(this.paramCache_[a+1]);return t},c.prototype.getParameterMap=function(e){this.checkParameterCache_();for(var t={},a=0;a<this.paramCache_.length;a+=2){var n=this.paramCache_[a++],r=this.paramCache_[a++];n in t?t[n].push(r):t[n]=[r]}return t},c.prototype.getParameterValue=function(e){this.checkParameterCache_();for(var t=0;t<this.paramCache_.length;t+=2)if(e===this.paramCache_[t])return this.paramCache_[t+1];return null},c.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},c.prototype.getRawFragment=function(){return this.fragment_},c.prototype.setFragment=function(e){return this.fragment_=e?encodeURIComponent(e):null,this},c.prototype.setRawFragment=function(e){return this.fragment_=e||null,this},c.prototype.hasFragment=function(){return null!==this.fragment_};var p=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),m=/[#\/\?@]/g,h=/[\#\?]/g;return c.parse=e,c.create=function(e,r,o,i,l,s,u){var p=new c(a(e,m),a(r,m),t(o),i>0?i.toString():null,a(l,h),null,t(u));return s&&("string"==typeof s?p.setRawQuery(s.replace(/[^?&=0-9A-Za-z_\-~.%]/g,n)):p.setAllParameters(s)),p},c.resolve=s,c.collapse_dots=l,c.utils={mimeTypeOf:function(t){var a=e(t);return/\.html$/.test(a.getPath())?"text/html":"application/javascript"},resolve:function(t,a){return t?s(e(t),e(a)).toString():""+a}},c}(),a={atype:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13}};if(a.atype=a.atype,a.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0},a.ATTRIBS=a.ATTRIBS,a.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},a.eflags=a.eflags,a.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:16,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,var:0,video:0,wbr:2},a.ELEMENTS=a.ELEMENTS,a.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},a.ELEMENT_DOM_INTERFACES=a.ELEMENT_DOM_INTERFACES,a.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},a.ueffects=a.ueffects,a.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1},a.URIEFFECTS=a.URIEFFECTS,a.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},a.ltypes=a.ltypes,a.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1},a.LOADERTYPES=a.LOADERTYPES,"i"!=="I".toLowerCase())throw"I/i problem";var n=function(e){var a,n,r;"undefined"!=typeof window&&(a=window.parseCssDeclarations,n=window.sanitizeCssProperty,r=window.cssSchema);var o={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:"Â "},i=/^#(\d+)$/,l=/^#x([0-9A-Fa-f]+)$/,s=/^[A-Za-z][A-za-z0-9]+$/,c="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null;function u(e,t){return function(e){if(o.hasOwnProperty(e))return o[e];var t=e.match(i);if(t)return String.fromCharCode(parseInt(t[1],10));if(t=e.match(l))return String.fromCharCode(parseInt(t[1],16));if(c&&s.test(e)){c.innerHTML="&"+e+";";var a=c.textContent;return o[e]=a,a}return"&"+e+";"}(t)}var p=/\0/g;var m=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,h=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/;function d(e){return e.replace(m,u)}var f=/&/g,g=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,E=/[<]/g,T=/>/g,L=/\"/g;function M(e){return(""+e).replace(f,"&amp;").replace(E,"&lt;").replace(T,"&gt;").replace(L,"&#34;")}function y(e){return e.replace(g,"&amp;$1").replace(E,"&lt;").replace(T,"&gt;")}var b=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),v=3==="a,b".split(/(,)/).length,H=e.eflags.CDATA|e.eflags.RCDATA;function S(e){var t={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,a){return function(e,t,a){var n=function(e){var t=/(<\/|<\!--|<[!?]|[&<>])/g;if(e+="",v)return e.split(t);for(var a,n=[],r=0;null!==(a=t.exec(e));)n.push(e.substring(r,a.index)),n.push(a[0]),r=a.index+a[0].length;return n.push(e.substring(r)),n}(e);A(t,n,0,{noMoreGT:!1,noMoreEndComments:!1},a)}(e,t,a)}}var _={};function w(e,t,a,n,r){return function(){A(e,t,a,n,r)}}function A(t,a,n,r,o){try{var i,l,s;t.startDoc&&0==n&&t.startDoc(o);for(var c=n,u=a.length;c<u;){var p=a[c++],m=a[c];switch(p){case"&":h.test(m)?(t.pcdata&&t.pcdata("&"+m,o,_,w(t,a,c,r,o)),c++):t.pcdata&&t.pcdata("&amp;",o,_,w(t,a,c,r,o));break;case"</":(i=/^([-\w:]+)[^\'\"]*/.exec(m))?i[0].length===m.length&&">"===a[c+1]?(c+=2,s=i[1].toLowerCase(),t.endTag&&t.endTag(s,o,_,w(t,a,c,r,o))):c=C(a,c,t,o,_,r):t.pcdata&&t.pcdata("&lt;/",o,_,w(t,a,c,r,o));break;case"<":if(i=/^([-\w:]+)\s*\/?/.exec(m))if(i[0].length===m.length&&">"===a[c+1]){c+=2,s=i[1].toLowerCase(),t.startTag&&t.startTag(s,[],o,_,w(t,a,c,r,o));var d=e.ELEMENTS[s];if(d&H)c=P(a,{name:s,next:c,eflags:d},t,o,_,r)}else c=R(a,c,t,o,_,r);else t.pcdata&&t.pcdata("&lt;",o,_,w(t,a,c,r,o));break;case"\x3c!--":if(!r.noMoreEndComments){for(l=c+1;l<u&&(">"!==a[l]||!/--$/.test(a[l-1]));l++);if(l<u){if(t.comment){var f=a.slice(c,l).join("");t.comment(f.substr(0,f.length-2),o,_,w(t,a,l+1,r,o))}c=l+1}else r.noMoreEndComments=!0}r.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",o,_,w(t,a,c,r,o));break;case"<!":if(/^\w/.test(m)){if(!r.noMoreGT){for(l=c+1;l<u&&">"!==a[l];l++);l<u?c=l+1:r.noMoreGT=!0}r.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",o,_,w(t,a,c,r,o))}else t.pcdata&&t.pcdata("&lt;!",o,_,w(t,a,c,r,o));break;case"<?":if(!r.noMoreGT){for(l=c+1;l<u&&">"!==a[l];l++);l<u?c=l+1:r.noMoreGT=!0}r.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",o,_,w(t,a,c,r,o));break;case">":t.pcdata&&t.pcdata("&gt;",o,_,w(t,a,c,r,o));break;case"":break;default:t.pcdata&&t.pcdata(p,o,_,w(t,a,c,r,o))}}t.endDoc&&t.endDoc(o)}catch(e){if(e!==_)throw e}}function C(e,t,a,n,r,o){var i=D(e,t);return i?(a.endTag&&a.endTag(i.name,n,r,w(a,e,t,o,n)),i.next):e.length}function R(e,t,a,n,r,o){var i=D(e,t);return i?(a.startTag&&a.startTag(i.name,i.attrs,n,r,w(a,e,i.next,o,n)),i.eflags&H?P(e,i,a,n,r,o):i.next):e.length}var k={};function P(t,a,n,r,o,i){var l=t.length;k.hasOwnProperty(a.name)||(k[a.name]=new RegExp("^"+a.name+"(?:[\\s\\/]|$)","i"));for(var s=k[a.name],c=a.next,u=a.next+1;u<l&&("</"!==t[u-1]||!s.test(t[u]));u++);u<l&&(u-=1);var p=t.slice(c,u).join("");if(a.eflags&e.eflags.CDATA)n.cdata&&n.cdata(p,r,o,w(n,t,u,i,r));else{if(!(a.eflags&e.eflags.RCDATA))throw new Error("bug");n.rcdata&&n.rcdata(y(p),r,o,w(n,t,u,i,r))}return u}function D(t,a){var n=/^([-\w:]+)/.exec(t[a]),r={};r.name=n[1].toLowerCase(),r.eflags=e.ELEMENTS[r.name];for(var o=t[a].substr(n[0].length),i=a+1,l=t.length;i<l&&">"!==t[i];i++)o+=t[i];if(!(l<=i)){for(var s=[];""!==o;)if(n=b.exec(o)){if(n[4]&&!n[5]||n[6]&&!n[7]){for(var c=n[4]||n[6],u=!1,p=[o,t[i++]];i<l;i++){if(u){if(">"===t[i])break}else 0<=t[i].indexOf(c)&&(u=!0);p.push(t[i])}if(l<=i)break;o=p.join("");continue}var m=n[1].toLowerCase(),h=n[2]?x(n[3]):"";s.push(m,h),o=o.substr(n[0].length)}else o=o.replace(/^[\s\S][^a-z\s]*/,"");return r.attrs=s,r.next=i+1,r}}function x(e){var t=e.charCodeAt(0);return 34!==t&&39!==t||(e=e.substr(1,e.length-2)),d(e.replace(p,""))}function I(t){var a,n,r=function(e,t){n||t.push(e)};return S({startDoc:function(e){a=[],n=!1},startTag:function(r,o,i){if(!n&&e.ELEMENTS.hasOwnProperty(r)){var l=e.ELEMENTS[r];if(!(l&e.eflags.FOLDABLE)){var s=t(r,o);if(s){if("object"!=typeof s)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in s))throw new Error("tagPolicy gave no attribs");var c,u;if(o=s.attribs,"tagName"in s?(u=s.tagName,c=e.ELEMENTS[u]):(u=r,c=l),l&e.eflags.OPTIONAL_ENDTAG){var p=a[a.length-1];!p||p.orig!==r||p.rep===u&&r===u||i.push("</",p.rep,">")}l&e.eflags.EMPTY||a.push({orig:r,rep:u}),i.push("<",u);for(var m=0,h=o.length;m<h;m+=2){var d=o[m],f=o[m+1];null!=f&&i.push(" ",d,'="',M(f),'"')}i.push(">"),l&e.eflags.EMPTY&&!(c&e.eflags.EMPTY)&&i.push("</",u,">")}else n=!(l&e.eflags.EMPTY)}}},endTag:function(t,r){if(n)n=!1;else if(e.ELEMENTS.hasOwnProperty(t)){var o=e.ELEMENTS[t];if(!(o&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var i;if(o&e.eflags.OPTIONAL_ENDTAG)for(i=a.length;--i>=0;){var l=a[i].orig;if(l===t)break;if(!(e.ELEMENTS[l]&e.eflags.OPTIONAL_ENDTAG))return}else for(i=a.length;--i>=0&&a[i].orig!==t;);if(i<0)return;for(var s=a.length;--s>i;){var c=a[s].rep;e.ELEMENTS[c]&e.eflags.OPTIONAL_ENDTAG||r.push("</",c,">")}i<a.length&&(t=a[i].rep),a.length=i,r.push("</",t,">")}}},pcdata:r,rcdata:r,cdata:r,endDoc:function(e){for(;a.length;a.length--)e.push("</",a[a.length-1].rep,">")}})}var N=/^(?:https?|mailto|data)$/i;function O(e,a,n,r,o){if(!o)return null;try{var i=t.parse(""+e);if(i&&(!i.hasScheme()||N.test(i.getScheme()))){var l=o(i,a,n,r);return l?l.toString():null}}catch(e){return null}return null}function F(e,t,a,n,r){if(a||e(t+" removed",{change:"removed",tagName:t}),n!==r){var o="changed";n&&!r?o="removed":!n&&r&&(o="added"),e(t+"."+a+" "+o,{change:o,tagName:t,attribName:a,oldValue:n,newValue:r})}}function U(e,t,a){var n;return n=t+"::"+a,e.hasOwnProperty(n)?e[n]:(n="*::"+a,e.hasOwnProperty(n)?e[n]:void 0)}function B(t,a){return U(e.LOADERTYPES,t,a)}function q(t,a){return U(e.URIEFFECTS,t,a)}function z(t,o,i,l,s){for(var c=0;c<o.length;c+=2){var u,p=o[c],m=o[c+1],h=m,d=null;if(u=t+"::"+p,(e.ATTRIBS.hasOwnProperty(u)||(u="*::"+p,e.ATTRIBS.hasOwnProperty(u)))&&(d=e.ATTRIBS[u]),null!==d)switch(d){case e.atype.NONE:break;case e.atype.SCRIPT:m=null,s&&F(s,t,p,h,m);break;case e.atype.STYLE:if(void 0===a){m=null,s&&F(s,t,p,h,m);break}var f=[];a(m,{declaration:function(t,a){var o=t.toLowerCase(),l=r[o];l&&(n(o,l,a,i?function(t){return O(t,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:o},i)}:null),f.push(t+": "+a.join(" ")))}}),m=f.length>0?f.join(" ; "):null,s&&F(s,t,p,h,m);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:m=l?l(m):m,s&&F(s,t,p,h,m);break;case e.atype.URI:m=O(m,q(t,p),B(t,p),{TYPE:"MARKUP",XML_ATTR:p,XML_TAG:t},i),s&&F(s,t,p,h,m);break;case e.atype.URI_FRAGMENT:m&&"#"===m.charAt(0)?(m=m.substring(1),null!=(m=l?l(m):m)&&(m="#"+m)):m=null,s&&F(s,t,p,h,m);break;default:m=null,s&&F(s,t,p,h,m)}else m=null,s&&F(s,t,p,h,m);o[c+1]=m}return o}function G(t,a,n){return function(r,o){if(!(e.ELEMENTS[r]&e.eflags.UNSAFE))return{attribs:z(r,o,t,a,n)};n&&F(n,r,void 0,void 0,void 0)}}function $(e,t){var a=[];return I(t)(e,a),a.join("")}var j={};return j.escapeAttrib=j.escapeAttrib=M,j.makeHtmlSanitizer=j.makeHtmlSanitizer=I,j.makeSaxParser=j.makeSaxParser=S,j.makeTagPolicy=j.makeTagPolicy=G,j.normalizeRCData=j.normalizeRCData=y,j.sanitize=j.sanitize=function(e,t,a,n){return $(e,G(t,a,n))},j.sanitizeAttribs=j.sanitizeAttribs=z,j.sanitizeWithPolicy=j.sanitizeWithPolicy=$,j.unescapeEntities=j.unescapeEntities=d,j}(a).sanitize;a.ATTRIBS["*::style"]=0,a.ELEMENTS.style=0,a.ATTRIBS["a::target"]=0,a.ELEMENTS.video=0,a.ATTRIBS["video::src"]=0,a.ATTRIBS["video::poster"]=0,a.ATTRIBS["video::controls"]=0,a.ELEMENTS.audio=0,a.ATTRIBS["audio::src"]=0,a.ATTRIBS["video::autoplay"]=0,a.ATTRIBS["video::controls"]=0,e.exports=n}));function r(e){return/^https?/.test(e.getScheme())||/^mailto?/.test(e.getScheme())||"data"==e.getScheme()&&/^image/.test(e.getPath())?e.toString():void 0}function o(e){return e}function i(e){return e.replace(/<[^<]+>/g,"")}L.GeoJSON.include({options:{useSimpleStyle:!1,pointToLayer:function(e,t,a){return L.marker(t,{icon:(s=e.properties,c={small:[20,50],medium:[30,70],large:[35,90]},u=(s=s||{})["marker-size"]||"medium",p="marker-symbol"in s&&""!==s["marker-symbol"]?"-"+s["marker-symbol"]:"",m=(s["marker-color"]||"7e7e7e").replace("#",""),L.icon({iconUrl:"//a.tiles.mapbox.com/v3/marker/pin-"+u.charAt(0)+p+"+"+m+(L.Browser.retina?"@2x":"")+".png",iconSize:c[u],iconAnchor:[c[u][0]/2,c[u][1]/2],popupAnchor:[0,-c[u][1]/2]})),title:i((l=e.properties&&e.properties.title||"",l?n(l,r,o):""))});var l,s,c,u,p,m}},_useSimpleStyle:function(){this.options.useSimpleStyle&&this.setStyle(a)},useSimpleStyle:function(){this.options.useSimpleStyle||(this.setStyle(a),this.options.useSimpleStyle=!0)},discardSimpleStyle:function(e){this.options.useSimpleStyle&&(this.resetStyle(),this.options.useSimpleStyle=!1)}}),L.GeoJSON.addInitHook("_useSimpleStyle")}();
